<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Frontier Room Flow — Teams, Voting & Action Plan</title>
<style>
  :root{
    --bg:#0f172a; --panel:#0b1226; --ink:#e5e7eb; --muted:#94a3b8;
    --border:#1f2a3d; --shadow:0 14px 30px rgba(0,0,0,.40); --radius:18px;
    --blue:#60a5fa; --green:#34d399; --amber:#f59e0b; --rose:#f43f5e; --violet:#a78bfa;
  }
  body{margin:0;background: radial-gradient(1200px 600px at 70% -10%, #172554 0%, #0b1226 45%, #050816 100%);color:var(--ink);
       font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  header{padding:20px 20px 10px;display:flex;gap:16px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
  h1{margin:.2rem 0 .3rem;font-size:26px}
  .subtitle{color:var(--muted);max-width:1000px}
  .nav{display:flex;gap:8px;flex-wrap:wrap}
  .tab{background:linear-gradient(180deg,#1f2937,#111827);border:1px solid #263041;padding:8px 12px;border-radius:10px;cursor:pointer}
  .tab.active{border-color:#3b82f6;box-shadow:0 0 0 1px #3b82f6 inset}
  .wrap{padding:8px 18px 24px;display:grid;gap:16px}
  .panel{background:linear-gradient(180deg,#0b1226,#050a1a);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  .panel header{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
  .panel main{padding:14px}
  button{background:linear-gradient(180deg,#1f2937,#111827);color:var(--ink);border:1px solid #263041;
         padding:8px 12px;border-radius:10px;cursor:pointer}
  button:hover{transform:translateY(-1px);border-color:#3b82f6}
  .btn-accent{background:linear-gradient(180deg,#2563eb,#1d4ed8);border-color:#3b82f6}
  .btn-green{background:linear-gradient(180deg,#10b981,#059669);border-color:#34d399}
  .btn-outline{background:transparent;border-color:#334155}
  input, textarea, select{background:#0c1427;border:1px solid #2a3a56;color:#e5e7eb;border-radius:10px;padding:8px 10px}
  .grid{display:grid;gap:12px}
  .cols-2{grid-template-columns:1fr 1fr}
  .cols-3{grid-template-columns:repeat(3,1fr)}
  .cols-4{grid-template-columns:repeat(4,1fr)}
  .card{background:linear-gradient(180deg,#0f172a,#0b1226);border:1px solid #22304a;border-radius:14px;padding:12px}
  .small{font-size:12px;color:#9fb0ca}
  .list{display:grid;gap:10px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .tag{display:inline-block;border:1px solid #334155;border-radius:999px;padding:2px 8px;font-size:12px;color:#cbd5e1}
  .status{font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid #334155}
  .s-open{background:#0b2a3a;color:#a5f3fc;border-color:#164e63}
  .s-locked{background:#3b1a0b;color:#fed7aa;border-color:#7c2d12}
  .table{width:100%;border-collapse:collapse}
  .table th,.table td{border-bottom:1px solid #1f2a3d;padding:8px 6px;text-align:left}
  .pill{display:inline-block;border-radius:999px;border:1px solid #334155;padding:2px 8px;font-size:12px}
  .p-emp{background:#0b3a2b;color:#a7f3d0;border-color:#14532d}
  .p-cust{background:#122b49;color:#bae6fd;border-color:#1e40af}
  .p-proc{background:#3b1a0b;color:#fed7aa;border-color:#7c2d12}
  .p-inn{background:#2b103b;color:#e9d5ff;border-color:#6b21a8}
  /* Voting chips */
  .vote{display:flex;gap:10px;align-items:center}
  .dot{width:12px;height:12px;border-radius:999px;background:#60a5fa}
  /* FAP Board */
  .board{overflow:auto}
  .board .hdr{display:grid;grid-template-columns:200px repeat(3,1fr);gap:1px;padding:8px 10px;border-bottom:1px solid var(--border)}
  .board .col-h{border:1px solid #1e293b;border-radius:10px;text-align:center;padding:6px;font-weight:700}
  .gridboard{display:grid;grid-template-columns:200px repeat(3,1fr);gap:1px}
  .rowlab{padding:10px;border-right:1px solid #1e293b;font-weight:600}
  .cell{min-height:160px;border-left:1px solid #1e293b;border-bottom:1px solid #1e293b;padding:8px;display:flex;gap:8px;flex-wrap:wrap;align-content:flex-start}
  .dropping{outline:2px dashed #3b82f6;outline-offset:-4px}
  .icard{background:linear-gradient(180deg,#0f172a,#0b1226);border:1px solid #22304a;border-radius:10px;padding:8px 10px;width:260px}
  .tools{display:flex;gap:6px;position:absolute;right:8px;top:8px}
  .lockbar{display:flex;gap:10px;align-items:center}
  .lock{font-weight:700}
  .hint{font-size:12px;color:#9fb0ca}
</style>
</head>
<body>
<header>
  <div>
    <h1>Frontier Room Flow</h1>
    <div class="subtitle">Team sign-up → Facilitator dashboards → Top 3–5 selection → Participant voting → Frontier Action Plan (live) & lock-in.</div>
  </div>
  <nav class="nav" id="nav"></nav>
</header>

<section class="wrap">
  <!-- Screen containers -->
  <div id="screen1" class="panel" style="display:none">
    <header><strong>1) Team / Group Sign-Up</strong></header>
    <main>
      <div class="grid cols-3" style="align-items:end">
        <div>
          <label>Team name</label><br/>
          <input id="gName" placeholder="e.g., Team Nova"/>
        </div>
        <div>
          <label>Table #</label><br/>
          <input id="gTable" placeholder="e.g., 12"/>
        </div>
        <div>
          <label>Members (comma-separated)</label><br/>
          <input id="gMembers" placeholder="e.g., A. Singh, J. Patel, L. Brown"/>
        </div>
      </div>
      <div class="row" style="margin-top:10px">
        <button class="btn-accent" id="addGroup">+ Add team</button>
        <span class="hint">Tip: add all teams up front, or let them sign in via a kiosk.</span>
      </div>

      <h3 style="margin-top:18px">Registered teams</h3>
      <div id="groupList" class="list"></div>
    </main>
  </div>

  <div id="screen2" class="panel" style="display:none">
    <header><strong>2) Facilitator — Live Team Roster</strong><span class="small" id="facCount"></span></header>
    <main>
      <div class="grid cols-3" id="facTeams"></div>
    </main>
  </div>

  <div id="screen3" class="panel" style="display:none">
    <header>
      <strong>3) Facilitator — One-Year Transformation (select top 3–5)</strong>
      <div class="row">
        <button class="btn-outline" id="selectNone">Clear</button>
        <button class="btn-accent" id="publishBallot">Publish ballot</button>
      </div>
    </header>
    <main>
      <table class="table" id="initTable">
        <thead>
          <tr>
            <th>Pick</th><th>Initiative</th><th>Group</th><th>Pillar</th><th>KPI</th><th>Target</th><th>Votes (seed)</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="row" style="margin-top:8px">
        <span class="small" id="pickCount">Picked 0 (need 3–5)</span>
      </div>
    </main>
  </div>

  <div id="screen4" class="panel" style="display:none">
    <header>
      <strong>4) Participant Voting — One-Year Initiatives</strong>
      <div class="row"><span class="hint">Each participant gets 3 votes. Click to add a dot to your preferred initiatives.</span></div>
    </header>
    <main>
      <div id="ballot" class="grid cols-3"></div>
      <div class="row" style="margin-top:10px">
        <button class="btn-outline" id="resetLocalVotes">Reset my 3 votes</button>
        <span class="small" id="myVoteCount">You have 3 votes remaining.</span>
      </div>
    </main>
  </div>

  <div id="screen5" class="panel" style="display:none">
    <header>
      <strong>5) Facilitator — Frontier Action Plan (live)</strong>
      <div class="lockbar">
        <span>Status:</span>
        <span id="lockState" class="status s-open">OPEN</span>
        <button class="btn-accent" id="toggleLock">Lock / Unlock Plan</button>
        <button class="btn-outline" id="exportPlan">Export plan (JSON)</button>
      </div>
    </header>
    <main>
      <div class="board">
        <div class="hdr">
          <div></div>
          <div class="col-h">0–3 months</div>
          <div class="col-h">3–6 months</div>
          <div class="col-h">6–12 months</div>
        </div>
        <div class="gridboard" id="fapGrid"></div>
      </div>
      <div class="row" style="margin-top:10px">
        <span class="hint">Drag initiatives between horizons. Lock to finalize the Frontier Action Plan.</span>
      </div>
    </main>
  </div>
</section>

<script>
  /* ------------------ Mock Data ------------------ */
  const pillars = [
    {key:'employee', label:'Employee', pill:'p-emp'},
    {key:'customer', label:'Customer', pill:'p-cust'},
    {key:'process',  label:'Process',  pill:'p-proc'},
    {key:'innovation',label:'Innovation', pill:'p-inn'}
  ];
  let groups = [
    mkGroup('Team Nova', 11, ['A. Singh','J. Patel','L. Brown'], [
      mkInit('Every employee uses Copilot for routine tasks', 'employee', 'Hrs saved / FTE', '2 hrs/wk', 3),
      mkInit('AI meeting summaries & next-step recs', 'employee', 'Adoption', '>70%', 2),
      mkInit('Proactive service — resolve before call', 'customer', 'Inbound volume', '-25%', 1),
      mkInit('Monthly AI prototypes cadence', 'innovation', 'Prototypes/yr', '12', 0),
    ]),
    mkGroup('Team Atlas', 7, ['E. Turner','S. O’Neil','G. Costa'], [
      mkInit('AI Sales Companion: next-best-offer', 'customer', 'Win rate', '+10%', 2),
      mkInit('Workflow orchestrator across CRM/ERP', 'process', 'Cycle time', '< 48h', 1),
      mkInit('Knowledge hub: answers in 30s', 'employee', 'Time to answer', '< 30s', 1),
      mkInit('AI product studio for add-on revenue', 'innovation', 'New rev', '$1.5M', 0),
    ]),
    mkGroup('Team Quasar', 4, ['H. Lee','M. Gomez','R. Shah','P. Ward'], [
      mkInit('Predict churn with VoC model', 'customer', 'Churn', '-3 pts', 1),
      mkInit('Auto compliance monitor', 'process', 'Audit findings', '-40%', 1),
      mkInit('Agent governance playbook', 'process', 'Policy coverage', '100%', 0),
      mkInit('Copilot adoption program', 'employee', 'Adoption', '80%', 0),
    ]),
    mkGroup('Team Meridian', 15, ['D. Price','C. Young','I. Novak'], [
      mkInit('Field service Copilot', 'customer', 'First-time fix', '+8 pts', 2),
      mkInit('Supplier risk sentinel', 'process', 'Incidents', '-30%', 1),
      mkInit('Prompt fluency upskilling', 'employee', 'Certified', '500+', 1),
      mkInit('Data monetization pilot', 'innovation', 'Data ARR', '$600k', 0),
    ]),
    mkGroup('Team Horizon', 2, ['K. Ahmed','B. Rossi','Y. Kim'], [
      mkInit('Self-serve analytics with Copilot', 'employee', 'DIY reports', '70%', 1),
      mkInit('CX personalization engine', 'customer', 'AOV', '+7%', 1),
      mkInit('Automated approvals w/ guardrails', 'process', 'Approval SLA', '< 24h', 1),
      mkInit('Innovation fund & monthly demo day', 'innovation', 'Demos', '12', 0),
    ]),
    mkGroup('Team Vertex', 19, ['T. Chen','S. Alvarez','N. Carter'], [
      mkInit('HR onboarding Copilot', 'employee', 'Time to productivity', '-30%', 2),
      mkInit('Inventory forecast assistant', 'process', 'Stockouts', '-20%', 1),
      mkInit('Proactive retention outreach', 'customer', 'Retention', '+4 pts', 1),
      mkInit('AI venture team', 'innovation', 'New SKUs', '3', 0),
    ]),
  ];
  function mkGroup(name, tableNo, members, initiatives){
    const id = uid();
    initiatives.forEach(x=>{ x.groupId=id; x.groupName=name; });
    return {id,name,tableNo,members,initiatives};
  }
  function mkInit(title, lane, kpi, target, seedVotes){
    return {
      id: uid(), title, lane, kpi, target, votes:seedVotes||0,
      selected:false, horizon: seedHorizon(), owner:'', desc:''
    };
  }
  function seedHorizon(){ return ['0-3','3-6','6-12'][Math.floor(Math.random()*3)]; }

  /* ------------------ Router ------------------ */
  const screens = [
    {id:'screen1', label:'Team sign-up'},
    {id:'screen2', label:'Facilitator: roster'},
    {id:'screen3', label:'Facilitator: select top 3–5'},
    {id:'screen4', label:'Participant voting'},
    {id:'screen5', label:'Facilitator: action plan'}
  ];
  let current = 0;
  const nav = document.getElementById('nav');
  function renderNav(){
    nav.innerHTML='';
    screens.forEach((s,idx)=>{
      const b = document.createElement('button');
      b.className = 'tab'+(idx===current?' active':'');
      b.textContent = `${idx+1}. ${s.label}`;
      b.addEventListener('click', ()=> show(idx));
      nav.appendChild(b);
    });
  }
  function show(idx){
    current = idx; renderNav();
    screens.forEach((s,i)=> document.getElementById(s.id).style.display = (i===idx?'block':'none'));
    if(idx===0) renderSignUp();
    if(idx===1) renderFacTeams();
    if(idx===2) renderInitSelect();
    if(idx===3) renderBallot();
    if(idx===4) buildFAP();
  }

  /* ------------------ Screen 1: Sign-up ------------------ */
  function renderSignUp(){
    const list = document.getElementById('groupList');
    list.innerHTML='';
    groups.forEach(g=>{
      const d = document.createElement('div');
      d.className='card';
      d.innerHTML = `<div class="row" style="justify-content:space-between">
          <div><strong>${esc(g.name)}</strong> <span class="small">Table ${g.tableNo}</span></div>
          <div class="small">${g.members.length} members • ${g.initiatives.length} initiatives</div>
        </div>
        <div class="small">${esc(g.members.join(', '))}</div>`;
      list.appendChild(d);
    });
  }
  document.getElementById('addGroup').addEventListener('click', ()=>{
    const name = val('#gName'), tableNo = val('#gTable'), mems = val('#gMembers');
    if(!name) return alert('Team name required');
    const members = mems? mems.split(',').map(s=>s.trim()).filter(Boolean):[];
    groups.push(mkGroup(name, tableNo||'-', members, [
      mkInit('Starter employee Copilot pilot', 'employee', 'Adoption', '50%', 0),
      mkInit('Starter customer agent', 'customer', 'CSAT', '+5', 0),
      mkInit('Starter workflow orchestration', 'process', 'Cycle time', '< 72h', 0),
      mkInit('Starter innovation demo cadence', 'innovation', 'Prototypes', '4', 0),
    ]));
    ['#gName','#gTable','#gMembers'].forEach(sel=> setVal(sel,''));
    renderSignUp();
  });
  const val = sel => document.querySelector(sel).value.trim();
  const setVal = (sel,v) => document.querySelector(sel).value = v;

  /* ------------------ Screen 2: Facilitator roster ------------------ */
  function renderFacTeams(){
    document.getElementById('facCount').textContent = `${groups.length} teams`;
    const cont = document.getElementById('facTeams'); cont.innerHTML='';
    groups.forEach(g=>{
      const c = document.createElement('div');
      c.className='card';
      c.innerHTML = `
        <div class="row" style="justify-content:space-between">
          <div><strong>${esc(g.name)}</strong> <span class="small">Table ${g.tableNo}</span></div>
          <div class="small">${g.members.length} members</div>
        </div>
        <div class="small">${esc(g.members.join(', '))}</div>
        <div class="row" style="margin-top:6px;gap:6px">
          ${pillCount(g.initiatives)}
        </div>
      `;
      cont.appendChild(c);
    });
  }
  function pillCount(inits){
    const by = {employee:0,customer:0,process:0,innovation:0};
    inits.forEach(i=>by[i.lane]++);
    return `
      <span class="pill p-emp">Emp: ${by.employee}</span>
      <span class="pill p-cust">Cust: ${by.customer}</span>
      <span class="pill p-proc">Proc: ${by.process}</span>
      <span class="pill p-inn">Inno: ${by.innovation}</span>
    `;
  }

  /* ------------------ Screen 3: Select top 3–5 ------------------ */
  let ballotIds = []; // selected initiative ids
  function renderInitSelect(){
    const tb = document.querySelector('#initTable tbody');
    tb.innerHTML='';
    const all = groups.flatMap(g=> g.initiatives.map(i=>({...i, groupName:g.name})));
    // sort by seed votes desc then group
    all.sort((a,b)=> (b.votes-a.votes) || a.groupName.localeCompare(b.groupName));
    all.forEach(i=>{
      const tr = document.createElement('tr');
      const checked = ballotIds.includes(i.id) ? 'checked' : '';
      tr.innerHTML = `
        <td><input type="checkbox" data-id="${i.id}" ${checked}></td>
        <td>${esc(i.title)}</td>
        <td>${esc(i.groupName)}</td>
        <td>${pill(i.lane)}</td>
        <td>${esc(i.kpi)}</td>
        <td>${esc(i.target)}</td>
        <td>${i.votes||0}</td>
      `;
      tb.appendChild(tr);
    });
    tb.querySelectorAll('input[type=checkbox]').forEach(cb=>{
      cb.addEventListener('change', ()=>{
        const id = cb.dataset.id;
        if(cb.checked){
          ballotIds.push(id);
        } else {
          ballotIds = ballotIds.filter(x=>x!==id);
        }
        updatePickCount();
      });
    });
    updatePickCount();
  }
  function updatePickCount(){
    document.getElementById('pickCount').textContent = `Picked ${ballotIds.length} (need 3–5)`;
  }
  document.getElementById('selectNone').addEventListener('click', ()=>{
    ballotIds = []; renderInitSelect();
  });
  document.getElementById('publishBallot').addEventListener('click', ()=>{
    if(ballotIds.length<3 || ballotIds.length>5){
      return alert('Please select between 3 and 5 initiatives.');
    }
    // mark selected
    groups.forEach(g=> g.initiatives.forEach(i=> i.selected = ballotIds.includes(i.id)));
    alert('Ballot published. Switch to “Participant voting”.');
    show(3);
  });

  /* ------------------ Screen 4: Participant voting ------------------ */
  let myVotes = 3;
  function renderBallot(){
    const cont = document.getElementById('ballot'); cont.innerHTML='';
    const selected = groups.flatMap(g=> g.initiatives.filter(i=>i.selected).map(i=>({...i, groupName:g.name})));
    if(!selected.length){ cont.innerHTML = '<div class="card small">No ballot yet — facilitator must publish 3–5 items.</div>'; return; }
    selected.forEach(i=>{
      const d = document.createElement('div');
      d.className='card';
      d.innerHTML = `
        <div class="row" style="justify-content:space-between">
          <div><strong>${esc(i.title)}</strong></div>
          <div class="small">${pill(i.lane)} &nbsp; <span class="tag">${esc(i.groupName)}</span></div>
        </div>
        <div class="small">KPI: <strong>${esc(i.kpi)}</strong> &nbsp; Target: <strong>${esc(i.target)}</strong></div>
        <div class="vote" style="margin-top:6px">
          <div class="dot"></div><button class="btn-outline" data-id="${i.id}">+1 vote</button>
          <span class="small">Total votes: <strong id="v_${i.id}">${i.votes||0}</strong></span>
        </div>
      `;
      cont.appendChild(d);
    });
    cont.querySelectorAll('button[data-id]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        if(myVotes<=0) return alert('You have used your 3 votes.');
        const id = btn.dataset.id;
        const it = findInit(id);
        it.votes = (it.votes||0)+1;
        document.getElementById('v_'+id).textContent = it.votes;
        myVotes--; updateMyVotes();
      });
    });
    updateMyVotes();
  }
  document.getElementById('resetLocalVotes').addEventListener('click', ()=>{ myVotes=3; updateMyVotes(); });
  function updateMyVotes(){
    document.getElementById('myVoteCount').textContent = `You have ${myVotes} vote${myVotes===1?'':'s'} remaining.`;
  }

  /* ------------------ Screen 5: Facilitator FAP (live) ------------------ */
  let locked = false;
  function buildFAP(){
    const grid = document.getElementById('fapGrid');
    grid.innerHTML='';
    // rows per group, columns horizons
    const horizons = ['0-3','3-6','6-12'];
    groups.forEach(g=>{
      const lab = document.createElement('div');
      lab.className='rowlab';
      lab.innerHTML = `<strong>${esc(g.name)}</strong> <span class="small">Table ${g.tableNo}</span>`;
      grid.appendChild(lab);
      horizons.forEach(h=>{
        const cell = document.createElement('div');
        cell.className='cell';
        cell.dataset.group = g.id;
        cell.dataset.horizon = h;
        cell.addEventListener('dragover', e=>{ if(locked) return; e.preventDefault(); cell.classList.add('dropping'); });
        cell.addEventListener('dragleave', ()=> cell.classList.remove('dropping'));
        cell.addEventListener('drop', e=>{
          if(locked) return;
          e.preventDefault(); cell.classList.remove('dropping');
          const iid = e.dataTransfer.getData('text/plain');
          const it = findInit(iid);
          if(!it) return;
          it.horizon = h;
          renderFAP();
        });
        grid.appendChild(cell);
      });
    });
    renderFAP();
  }
  function renderFAP(){
    document.querySelectorAll('.cell').forEach(c=> c.innerHTML='');
    groups.forEach(g=>{
      g.initiatives.forEach(i=>{
        const cell = [...document.querySelectorAll('.cell')]
          .find(c => c.dataset.group===g.id && c.dataset.horizon===i.horizon);
        if(!cell) return;
        const card = document.createElement('div');
        card.className='icard'; card.draggable = !locked; card.id = i.id;
        card.addEventListener('dragstart', e=> e.dataTransfer.setData('text/plain', i.id));
        card.innerHTML = `
          <div style="position:relative">
            <div style="position:absolute;right:0;top:0" class="small">${pill(i.lane)}</div>
            <div><strong>${esc(i.title)}</strong></div>
          </div>
          <div class="small">KPI <strong>${esc(i.kpi)}</strong> → <strong>${esc(i.target)}</strong></div>
          <div class="small">Votes: ${i.votes||0}</div>
        `;
        cell.appendChild(card);
      });
    });
    // lock state
    const st = document.getElementById('lockState');
    st.textContent = locked ? 'LOCKED' : 'OPEN';
    st.className = 'status ' + (locked?'s-locked':'s-open');
  }
  document.getElementById('toggleLock').addEventListener('click', ()=>{
    locked = !locked; renderFAP();
  });
  document.getElementById('exportPlan').addEventListener('click', ()=>{
    const payload = {
      generatedAt: new Date().toISOString(),
      locked, groups: groups.map(g=>({
        id:g.id, name:g.name, tableNo:g.tableNo,
        initiatives: g.initiatives.map(i=>({id:i.id,title:i.title,lane:i.lane,kpi:i.kpi,target:i.target,horizon:i.horizon,votes:i.votes}))
      }))
    };
    download('frontier-room-plan.json', JSON.stringify(payload,null,2));
  });

  /* ------------------ Utils ------------------ */
  function findInit(id){
    for(const g of groups){
      const it = g.initiatives.find(x=>x.id===id);
      if(it) return it;
    }
    return null;
  }
  function pill(lane){
    const map = {employee:'p-emp',customer:'p-cust',process:'p-proc',innovation:'p-inn'};
    const cap = lane.charAt(0).toUpperCase()+lane.slice(1);
    return `<span class="pill ${map[lane]||''}">${cap}</span>`;
  }
  function download(filename, text){
    const blob = new Blob([text], {type:'application/json;charset=utf-8'});
    const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = filename; a.click(); URL.revokeObjectURL(a.href);
  }
  function uid(){ return Math.random().toString(36).slice(2,10); }
  function esc(s){ return String(s||'').replace(/[&<>"']/g,m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

  /* ------------------ Init ------------------ */
  renderNav(); show(0);
</script>
</body>
</html>
